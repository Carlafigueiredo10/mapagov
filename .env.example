# ============================================================================
# VARI√ÅVEIS DE AMBIENTE - MapaGov
# ============================================================================
# Copie este arquivo para .env e preencha com seus valores reais
# NUNCA comite o arquivo .env no Git!

# ============================================================================
# DJANGO
# ============================================================================
DEBUG=False
SECRET_KEY=django-insecure-CHANGE-THIS-IN-PRODUCTION
ALLOWED_HOSTS=localhost,127.0.0.1

# ============================================================================
# DATABASE
# ============================================================================
# Formato: postgresql://usuario:senha@host:5432/nome_do_banco
# Render: Use a "Internal Database URL" fornecida pelo PostgreSQL
DATABASE_URL=postgresql://user:password@host:5432/mapagov

# Op√ß√µes de conex√£o PostgreSQL
DB_REQUIRE_SSL=true
DB_SSLMODE=require
DB_CONN_MAX_AGE=120

# ============================================================================
# OPENAI / IA
# ============================================================================
OPENAI_API_KEY=sk-proj-your-key-here

# ‚ö° OTIMIZA√á√ÉO MEM√ìRIA: Modo econ√¥mico para ambientes com RAM limitada
# True = Desabilita produtos pesados (an√°lise riscos avan√ßada, fluxogramas IA)
# False = Habilita todos os produtos (requer >1GB RAM)
# Recomendado: True para Render Free (512MB), False para Railway/AWS (>1GB)
HELENA_LITE_MODE=False

# ============================================================================
# SEGURAN√áA - Endpoints internos PE
# ============================================================================
# Chave para acessar endpoints internos do Planejamento Estrat√©gico
# (salvar, listar, aprovar, revisar, exportar, etc.)
# Sem essa chave, esses endpoints retornam 503.
# Gerar com: python -c "import secrets; print(secrets.token_urlsafe(32))"
INTERNAL_API_KEY=

# ============================================================================
# CORS (Frontend)
# ============================================================================
# URLs do frontend permitidas (separadas por v√≠rgula)
# Desenvolvimento: http://localhost:5174
# Produ√ß√£o: https://mapagov.vercel.app,https://mapagov-git-*.vercel.app
CORS_ALLOWED_ORIGINS=http://localhost:5174

# URL principal do frontend React
REACT_FRONTEND_URL=http://localhost:5174

# ============================================================================
# BACKUP (S3/Backblaze B2)
# ============================================================================
BACKUP_UPLOAD_PROVIDER=s3
BACKUP_S3_BUCKET=your-bucket-name
BACKUP_S3_REGION=us-east-1
BACKUP_S3_BASE_PATH=mapagov/backups
BACKUP_UPLOAD_AUTO=0

# ============================================================================
# AWS/S3 Credentials (se usar backup)
# ============================================================================
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key

# ============================================================================
# üî• FASE 1: MONITORAMENTO & OBSERVABILIDADE
# ============================================================================

# Sentry - Monitoramento de erros em produ√ß√£o (gratuito at√© 5k eventos/m√™s)
# Obtenha seu DSN em: https://sentry.io/settings/projects/
SENTRY_DSN=https://your-sentry-dsn@sentry.io/123456

# Environment/Release tracking
ENVIRONMENT=production
GIT_COMMIT_SHA=unknown

# ============================================================================
# REDIS - FASE 1 (Cache de Sess√µes)
# ============================================================================
# Redis para cache de sess√µes de chat (performance)
# Modo degradado: se Redis indispon√≠vel, usa PostgreSQL direto

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# Produ√ß√£o (Render Redis, Google Memorystore, etc.):
# REDIS_HOST=your-redis-host.onrender.com
# REDIS_PORT=6379
